delivery={order:{select:{onChange:function(e){var e=jQuery(e),i=e.parents(".order-delivery-select"),t=e.find("option:selected"),n=t.attr("data-type"),o="pickup"==n,r=t.attr("data-instructions"),d=(t.attr("data-label"),i.find(".instructions"));d.html(r);var l=i.find(".consumer-delivery-data");o?l.slideUp("fast"):l.slideDown("fast")}}},option:{},method:{view:{edition:function(){return jQuery("#delivery-method-edition")},listing:function(){return jQuery("#delivery-method-list")},toggle:function(){jQuery("#delivery-method-list, #delivery-method-edition").fadeToggle()}},changeType:function(e){e=jQuery(e)},"new":function(e){this.edit(e)},edit:function(e){var i=this.view.listing(),t=this.view.edition();loading_overlay.show(i),jQuery.get(e,function(e){t.html(e),delivery.method.view.toggle(),loading_overlay.hide(i)})},save:function(e){var i=this.view.listing(),t=this.view.edition();return jQuery(e).ajaxSubmit({beforeSubmit:function(){loading_overlay.show(t)},success:function(e){i.html(e),delivery.method.view.toggle(),loading_overlay.hide(t)}}),!1},destroy:function(e,i,t){if(confirm(i)){var n=jQuery("#delivery-method-"+e);jQuery.post(t,function(){n.fadeOut(function(){n.remove()})})}}},option:{add:function(e){$.getScript(e)}}};