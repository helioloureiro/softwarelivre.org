<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"><channel><title>Bruno Vinicius Barroso Cavalcanti's RSS feed</title><link>http://softwarelivre.org/bruno_cavalcanti</link><description>Bruno Vinicius Barroso Cavalcanti's content published at Software Livre Brasil</description><item><title>Tentando um Chat </title><description>&lt;p&gt; &lt;/p&gt;
</description><pubDate>Thu, 24 Oct 2013 17:35:04 +0000</pubDate><link>http://softwarelivre.org/bruno_cavalcanti/blog/tentando-um-chat</link><guid>http://softwarelivre.org/bruno_cavalcanti/blog/tentando-um-chat</guid></item><item><title>Configuração de servidor DHCP no Debian Linux</title><description>&lt;p&gt; &lt;/p&gt;
&lt;h1&gt;Instalação do pacote servidor DHCP&lt;/h1&gt;
&lt;p&gt;Iniciando: &lt;br&gt;&lt;br&gt; 1. Vamos realizar a instalação do pacote do servidor DHCP. No Debian e derivados (como Ubuntu, Kubuntu etc) o pacote chama-se &lt;em&gt;dhcp3-server&lt;/em&gt;. O 3 é o numero da versão do servidor DHCP. Podemos utilizar o aptitude ou o apt-get para fazer a instalação do mesmo. Devemos ter privilégios de root para realizar a instalação: &lt;br&gt;&lt;br&gt; &lt;strong&gt;# aptitude install dhcp3-server&lt;/strong&gt;&lt;br&gt; ou&lt;br&gt; &lt;strong&gt;# apt-get install dhcp3-server&lt;/strong&gt; &lt;br&gt;&lt;br&gt; 2. Após realizada a instalação, o serviço de DHCP pode ser ativado ou desativado com os comandos abaixo. &lt;br&gt;&lt;br&gt; Ativando o serviço de DHCP: &lt;br&gt;&lt;br&gt; &lt;strong&gt;# /etc/init.d/dhcp3-server start&lt;/strong&gt; &lt;br&gt;&lt;br&gt; Desativando o serviço de DHCP: &lt;br&gt;&lt;br&gt; &lt;strong&gt;# /etc/init.d/dhcp3-server stop&lt;/strong&gt; &lt;br&gt;&lt;br&gt; Obs.: O serviço de DHCP também pode ser reiniciado e também é possível visualizar o seu status, através dos seguintes comandos. &lt;br&gt;&lt;br&gt; Reiniciando o Serviço de DHCP (útil quando novas configurações são feitas, pois é necessário reiniciar o serviço para que as mesmas entrem em funcionamento): &lt;br&gt;&lt;br&gt; &lt;strong&gt;# /etc/init.d/dhcp3-server restart&lt;/strong&gt; &lt;br&gt;&lt;br&gt; Verificando o status do serviço de DHCP: &lt;br&gt;&lt;br&gt; &lt;strong&gt;# /etc/init.d/dhcp3-server status&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt; &lt;/p&gt;
&lt;h1&gt;Editando arquivo de configuração do servidor DHCP&lt;/h1&gt;
&lt;div class="floatright"&gt; &lt;/div&gt;
&lt;p&gt;1. Para inserirmos as configurações desejadas para serem atribuídas aos hosts de nossa rede, precisamos inserir as configurações em um arquivo de configuração, que será "lido" pelo daemon do DHCP e realizará as tarefas necessárias. &lt;br&gt;&lt;br&gt; O arquivo de configuração do ISC DHCP é o &lt;em&gt;/etc/dhcp3/dhcpd.conf&lt;/em&gt;. O mesmo deve conter o seguinte conteúdo: &lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;div class="codigo"&gt;ddns-update-style none;&lt;br&gt; default-lease-time 600;&lt;br&gt; max-lease-time 7200;&lt;br&gt; authoritative;&lt;br&gt; log-facility local7;&lt;br&gt; &lt;br&gt; subnet 192.168.1.0 netmask 255.255.255.0 {&lt;br&gt; range 192.168.1.20 192.168.1.30;&lt;br&gt; option domain-name-servers 208.67.222.222,208.67.220.220,8.8.8.8;&lt;br&gt; option domain-name "tuxnetwork.local.net";&lt;br&gt; option routers 192.168.1.4;&lt;br&gt; option broadcast-address 192.168.1.255;&lt;br&gt; }&lt;br&gt; &lt;br&gt; host tux {&lt;br&gt; hardware ethernet 08:00:07:26:c0:a5;&lt;br&gt; fixed-address tux.tuxnetwork.local.net;&lt;br&gt; }&lt;/div&gt;
&lt;p&gt;&lt;br&gt; Obs.: Edite o mesmo mediante o seu ambiente de rede desejado. &lt;br&gt;&lt;br&gt; Explicando algumas das opções mais relevantes: &lt;br&gt;&lt;br&gt; As opções do arquivo de configuração que ficam fora das chaves "{ }" são opções que chamados de globais, ou seja, opções que afetam toda a área de autoridade do servidor DHCP em questão. Já as opções que ficam dentro das chaves são opções específicas, que serão atribuídas a uma rede ou a um determinado host (como no caso da atribuição de um endereço IP sempre a um mesmo host).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;em&gt;default-lease-time 600&lt;/em&gt;: Especifica o tempo mínimo em segundos de checagem de endereço IP. Ao fim de cada intervalo, o daemon dhcpd verificará se o(s) IP(s) alocado(s) aos hosts ainda estão sendo utilizados. Isso para que não ocorra desperdício de endereços IP na rede;&lt;/li&gt;
&lt;li&gt;
&lt;em&gt;max-lease-time 7200&lt;/em&gt;: Período máximo, também representado em segundos, de uma alocação de endereço IP a um cliente. Após esse período, o daemon dhcpd liberará o endereço IP, que deverá ser requisitado novamente pelo cliente ou por outra máquina autorizada;&lt;/li&gt;
&lt;li&gt;
&lt;em&gt;authoritative&lt;/em&gt;: Indica que o servidor DHCP será autoritário em todo o seguimento da rede;&lt;/li&gt;
&lt;li&gt;
&lt;em&gt;log-facility local7&lt;/em&gt;: Indica que o log será a facility local7. Podemos entender como facility a origem dos logs, ou seja, de onde ele está vindo. Podemos no arquivo de configuração do Syslog (serviço de log presente em muitas distribuições &lt;a href="http://www.vivaolinux.com.br/linux/"&gt;Linux&lt;/a&gt;) inserir uma entrada que direcione todos os logs do dhcpd para um arquivo separado, para facilitar nossa consulta por logs relacionados ao serviço de DHCP. No Debian, o arquivo de configuração do syslog fica em /etc/rsyslog.conf. A seguinte entrada pode ser adiciona ao mesmo: &lt;br&gt;&lt;br&gt;
&lt;div class="codigo"&gt;local7.* /var/log/dhcpd.log&lt;/div&gt;
&lt;br&gt; Com isso todos os logs com origem da facility local7 (facility essa que representa o serviço de DHCP) em qualquer priority (indica o nível de importância do log. No nosso caso, qualquer ocorrência representada pelo símbolo asterisco será logada) será direcionado ao arquivo /var/log/dhcpd.log. &lt;br&gt;&lt;br&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;em&gt;range 192.168.1.20 192.168.1.30&lt;/em&gt;: Indica o range ou o intervalo de endereços que o servidor DHCP irá utilizar para distribuir aos hosts da rede;&lt;/li&gt;
&lt;li&gt;
&lt;em&gt;option domain-name-servers 208.67.222.222,208.67.220.220,8.8.8.8&lt;/em&gt;: Servidores de Nomes (DNS) que serão atribuídos aos hosts da rede. Podem ser inseridos inúmeros servidores DNS. Os mesmos devem ser separados por vírgulas e sem espaço depois da vírgula;&lt;/li&gt;
&lt;li&gt;
&lt;em&gt;option domain-name "tuxnetwork.local.net"&lt;/em&gt;: Nome do domínio local que será atribuído aos hosts da rede. Essa opção é opcional e só deve ser usada caso desejado;&lt;/li&gt;
&lt;li&gt;
&lt;em&gt;option routers 192.168.1.4&lt;/em&gt;: Endereço IP do gateway da rede. Geralmente esse dispositivo é um router e por isso a opção tem esse nome. Caso a comunicação dos hosts na rede seja somente local, essa opção também não é necessária.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br&gt; No caso da entrada abaixo, é uma configuração especifica onde estará afetando somente um único host (devido a utilização das chaves). O host de nome "tux" estará recebendo um mesmo endereço IP sempre em que se conectar nessa rede. Isso é devido a uma entrada no arquivo de configuração do DHCP dizendo que um determinado endereço IP será sempre atribuído a um mesmo MAC Address - no caso o MAC Address do host tux: &lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;div class="codigo"&gt;host tux {&lt;br&gt; hardware ethernet 08:00:07:26:c0:a5;&lt;br&gt; fixed-address tux.tuxnetwork.local.net;&lt;br&gt; }&lt;/div&gt;
&lt;p&gt;&lt;br&gt; 1. É interessante indicarmos em qual interface de rede o daemon do DHCP receberá as solicitações de informações de rede. Podemos especificar qual será a interface de rede responsável por esse trabalho no arquivo de configuração &lt;em&gt;/etc/default/dhcp3-server&lt;/em&gt;. Devemos procurar pela linha: &lt;br&gt;&lt;br&gt; INTERFACES="" &lt;br&gt;&lt;br&gt; e alterar a mesma para (estamos no caso inserindo qual será a placa de rede que recebera as solicitações dos clientes DHCP): &lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;div class="codigo"&gt;INTERFACES="eth0"&lt;/div&gt;
&lt;p&gt;&lt;br&gt; Observação importante: Para toda e qualquer configuração realizada no arquivo de configuração do servidor DHCP, o serviço do mesmo deverá ser reinicializado para que as novas alterações entrem em vigor. &lt;br&gt;&lt;br&gt; 2. Com o servidor DHCP já configurado, podemos realizar um teste a partir de uma estação cliente Linux configurado para receber informações de rede automaticamente (via DHCP). Existe um cliente DHCP para Linux chamado "dhclient", que tem o objetivo (quando utilizado) de enviar um broadcast na rede a procura de um servidor DHCP. Segue a sintaxe de utilização do mesmo: &lt;br&gt;&lt;br&gt; &lt;strong&gt;# dhclient eth1&lt;/strong&gt; &lt;br&gt;&lt;br&gt; Obs.: No local de "eth1" você deve inserir a interface de rede que está em uso no seu sistema operacional. &lt;br&gt;&lt;br&gt; Espero que tenham gostado. &lt;br&gt;&lt;br&gt; Abraços.&lt;/p&gt;</description><pubDate>Wed, 23 Oct 2013 17:53:41 +0000</pubDate><link>http://softwarelivre.org/bruno_cavalcanti/blog/configuracao-de-servidor-dhcp-no-debian-linux</link><guid>http://softwarelivre.org/bruno_cavalcanti/blog/configuracao-de-servidor-dhcp-no-debian-linux</guid></item></channel></rss>